import{r as h,w as D,o as K,a as $,c as C,b as M,d as x,e as S,f as m,v as L,u as s,g as n,h as T,i as O,j as V,F,k as z,l as R,t as A,m as j,n as k,p as q,q as J,s as P,x as G}from"./vendor.ac626fbd.js";const Y=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const p of r.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&d(p)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}};Y();function N(){let t="todos-vue3";return{save:e=>{localStorage.setItem(t,JSON.stringify(e))},fetch:()=>{let e=[];return e=JSON.parse(localStorage.getItem(t)||"[]"),e},genrateId:()=>new Date().getTime().toString(16)}}function H(){let t=N();const o=h(t.fetch());return D(()=>{t.save(o.value)}),{todoRef:o}}function Q(t){const o=h(""),{genrateId:i}=N();return{newTodoRef:o,addTodo:()=>{let e=o&&o.value.trim();if(!e)return;const r={title:e,complete:!1,id:i()};t.value.push(r),o.value=""}}}function W(t){let o=h(null),i=h("all"),d=h(null);const e=l=>{let a=t.value.indexOf(l);t.value.splice(a,1)};let r=()=>{location.hash.replace(/(?<=#\/?)(\w+)[^\/]?/g,(l,a)=>{["all","active","completed"].forEach(w=>{a===w&&(i.value=w)}),a!==i.value&&(location.hash="/"+i.value)})};K(()=>{window.addEventListener("hashchange",r)}),$(()=>{window.removeEventListener("hashchange",r)});const p=()=>{t.value=f.active(t)},f={all:l=>l.value,completed:l=>l.value.filter(a=>a.complete),active:l=>l.value.filter(a=>!a.complete)},I=C(()=>f[i.value](t)),v=(l,a)=>l+(a>1?"s":""),g=C(()=>f.active(t).length),y=l=>{d.value=l.title,o.value=l},b=l=>{!o.value||(o.value=null,l.title=l.title.trim(),l.title||e(l))},E=l=>{o.value=null,l.title=d.value};let _=C({get(){return g.value===0},set(l){t.value.forEach(a=>a.complete=l)}});return{remove:e,visibility:i,lists:I,removeCompleted:p,remain:g,pluralize:v,editItem:y,editedItemRef:o,doneEdit:b,cancelEdit:E,seletedAll:_}}var X=(t,o)=>{const i=t.__vccOpts||t;for(const[d,e]of o)i[d]=e;return i};const U=t=>(q("data-v-4f53a3bf"),t=t(),J(),t),Z={class:"todo-container"},ee=U(()=>n("h1",null," todos",-1)),te={class:"main"},oe=U(()=>n("label",{for:"toggle-all"},"Mark all as complete",-1)),le={class:"todo-list"},se={class:"view"},ne=["onUpdate:modelValue"],ae=["onDblclick"],ce=["onClick"],re=["onUpdate:modelValue","onBlur","onKeyup"],ie={class:"footer"},de={class:"todo-count"},ue=["textContent"],pe={class:"filters"},fe={setup(t){const{todoRef:o}=H(),{newTodoRef:i,addTodo:d}=Q(o),{remove:e,visibility:r,lists:p,removeCompleted:f,pluralize:I,remain:v,editItem:g,editedItemRef:y,doneEdit:b,cancelEdit:E,seletedAll:_}=W(o);return(l,a)=>{const w=M("todo-focus");return x(),S("div",Z,[ee,m(n("input",{type:"text",class:"new-todo",autofocus:"",onKeyup:a[0]||(a[0]=T((...c)=>s(d)&&s(d)(...c),["enter"])),"onUpdate:modelValue":a[1]||(a[1]=c=>O(i)?i.value=c:null),autocomplete:"off",placeholder:"what needs to be done?"},null,544),[[L,s(i)]]),n("section",te,[m(n("input",{type:"checkbox",class:"toggle-all",id:"toggle-all","onUpdate:modelValue":a[2]||(a[2]=c=>O(_)?_.value=c:null)},null,512),[[V,s(_)]]),oe,n("ul",le,[(x(!0),S(F,null,z(s(p),c=>(x(),S("li",{class:k(["todo",{completed:c.complete,editing:c===s(y)}]),key:"item.value.id"},[n("div",se,[m(n("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":u=>c.complete=u},null,8,ne),[[V,c.complete]]),n("label",{onDblclick:u=>s(g)(c)},A(c.title),41,ae),n("button",{class:"destory",onClick:u=>s(e)(c)},null,8,ce)]),m(n("input",{class:"edit",type:"text","onUpdate:modelValue":u=>c.title=u,onBlur:u=>s(b)(c),onKeyup:[T(u=>s(b)(c),["enter"]),T(u=>s(E)(c),["esc"])]},null,40,re),[[L,c.title],[w,c==s(y)]])],2))),128))])]),n("footer",ie,[m(n("span",de,[n("strong",{textContent:A(s(v))},null,8,ue),j(" "+A(s(I)("item",s(v)))+" left ",1)],512),[[R,s(v)>0]]),n("ul",pe,[n("li",null,[n("a",{href:"#/all",class:k({selected:s(r)==="all"})},"All",2)]),n("li",null,[n("a",{href:"#/active",class:k({selected:s(r)==="active"})},"Active",2)]),n("li",null,[n("a",{href:"#/completed",class:k({selected:s(r)==="completed"})},"Completed",2)])]),m(n("button",{class:"clear-completed",onClick:a[3]||(a[3]=(...c)=>s(f)&&s(f)(...c))}," Clear completed ",512),[[R,s(o).length>s(v)]])])])}}};var ve=X(fe,[["__scopeId","data-v-4f53a3bf"]]);const me={setup(t){return(o,i)=>(x(),P(ve))}};var _e={updated(t,o){o.value&&t.focus()}};const B=G(me);B.directive("todo-focus",_e);B.mount("#app");
